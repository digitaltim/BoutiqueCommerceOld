function processDesignerSelect(e){removeItemSelect(),0!=e.options[e.selectedIndex].value&&(createHiddenInput("designerName","designerName",e.options[e.selectedIndex].text,document.getElementById(itemFormId)),callGetDesignerItems(e.options[e.selectedIndex].value))}function callGetDesignerItems(e){sendRequest(requestURL+"?action=getDesignerItems&designerId="+e,buildItems)}function processItemSelect(e){if(removeColorSelect(),selectedItemId=e.options[e.selectedIndex].value,0!=selectedItemId){var t=e.options[e.selectedIndex].text.split(" :: ");createHiddenInput("styleNumber","styleNumber",t[0],document.getElementById(itemFormId)),createHiddenInput("itemName","itemName",t[1],document.getElementById(itemFormId)),sendRequest(requestURL+"?action=getItemColors&itemId="+selectedItemId,createColorSelect)}}function processColorSelect(e,t){document.getElementById(sizeSelectId)?removeSizeSelect():removeQtyTextbox(),0!=e.options[e.selectedIndex].value&&(createHiddenInput("colorName","colorName",e.options[e.selectedIndex].text,document.getElementById(itemFormId)),sendRequest(requestURL+"?action=getItemSizes&itemId="+t,createSizeSelect))}function processSizeSelect(e){removeQtyTextbox(),0!=e.options[e.selectedIndex].value&&(createHiddenInput("sizeName","sizeName",e.options[e.selectedIndex].text,document.getElementById(itemFormId)),createQtyTextbox())}function buildItems(e){designerItems=JSON.parse(e.responseText),createItemSelect(designerItems,itemFormId)}function createItemSelectDL(e,t){for(var n=new Array,o=0;o<e.length;o++){var r=e[o].season;"null"!=r&&null!=r||(r="");var m=e[o].style_number+" :: "+e[o].name+" :: "+r,c=new SelectOption(e[o].id,m);n.push(c)}var d=new Array,l=new Attribute("onchange","processItemSelect(document.getElementById(this.id));");d.push(l);var i="itemList",s=new Attribute("list",i);d.push(s),createDatalistInput(i,"itemInput","itemInput",n,document.getElementById(t),d),document.getElementById("itemInput").focus()}function createItemSelect(e,t){var n=new Array,o=new SelectOption("0","select item");n.push(o);for(var r=0;r<e.length;r++){var m=e[r].season;null==m&&(m="N/A");var c=e[r].style_number+" :: "+e[r].name+" :: "+m,d=new SelectOption(e[r].id,c);n.push(d)}var l=new Array,i=new Attribute("onchange","processItemSelect(document.getElementById(this.id));");l.push(i),createSelect(itemSelectId,itemSelectId,n,document.getElementById(t),l),document.getElementById(itemSelectId).focus()}function createColorSelect(e){var t=JSON.parse(e.responseText),n=new Array,o=new SelectOption("0","select color");n.push(o);for(var r,m=0;m<t.length;m++){r=t[m].item_id;var c;c=1==t.length;var d=new SelectOption(t[m].id,t[m].color,c);n.push(d)}var l=new Array,i=new Attribute("onchange","processColorSelect(document.getElementById(this.id), "+r+");");l.push(i),createSelect(colorSelectId,colorSelectId,n,document.getElementById(itemFormId),l),document.getElementById(colorSelectId).focus(),c&&processColorSelect(document.getElementById(colorSelectId),r)}function createSizeSelect(e){var t=JSON.parse(e.responseText);if(0==t.length)return void createQtyTextbox();var n=new Array,o=new SelectOption("0","select size");n.push(o);for(var r=0;r<t.length;r++){var m=0==r,c=new SelectOption(t[r].id,t[r].size,m);n.push(c)}var d=new Array,l=new Attribute("onchange","processSizeSelect(document.getElementById(this.id));");d.push(l),createSelect(sizeSelectId,sizeSelectId,n,document.getElementById("itemForm"),d),document.getElementById(sizeSelectId).focus(),processSizeSelect(document.getElementById(sizeSelectId))}function createQtyTextbox(){var e=new Array;e.push(new Attribute("type","number")),e.push(new Attribute("min",1)),e.push(new Attribute("max",99)),e.push(new Attribute("placeholder","qty")),e.push(new Attribute("value",1)),createInput(qtyInputId,qtyInputId,document.getElementById("itemForm"),e),document.getElementById(qtyInputId).focus(),createCostTextbox()}function getItemCost(){for(var e=0;e<designerItems.length;e++)if(designerItems[e].id==selectedItemId)return designerItems[e].cost}function createCostTextbox(){var e=getItemCost(),t=new Array;t.push(new Attribute("type","number")),t.push(new Attribute("min",.01)),t.push(new Attribute("max",9999)),t.push(new Attribute("step",".01")),t.push(new Attribute("placeholder","cost")),t.push(new Attribute("value",e)),createInput(costInputId,costInputId,document.getElementById("itemForm"),t),document.getElementById(costInputId).focus(),createItemSubmit()}function createItemSubmit(){var e=new Array;e.push(new Attribute("type","submit")),e.push(new Attribute("value","Add Item")),e.push(new Attribute("onclick","if(!validateItemForm()){return false;}")),createInput(itemSubId,itemSubId,document.getElementById("itemForm"),e),document.getElementById(itemSubId).focus()}function validateItemForm(){var e=!0,t=document.getElementById(qtyInputId),n=t.value;""==n||0==n?(t.className="errorField",t.focus(),e=!1):"errorField"==t.className&&(t.className="");var o=document.getElementById(costInputId),r=o.value;return""==r||0==r?(o.className="errorField",o.focus(),e=!1):"errorField"==o.className&&(o.className=""),e}function removeItemSelect(){var e=document.getElementById(itemSelectId);e&&("0"!=e.value&&(removeColorSelect(),removeSizeSelect()),document.getElementById("itemForm").removeChild(e))}function removeColorSelect(){var e=document.getElementById(colorSelectId);e&&(document.getElementById("itemForm").removeChild(e),document.getElementById(sizeSelectId)?removeSizeSelect():removeQtyTextbox())}function removeSizeSelect(){var e=document.getElementById(sizeSelectId);e&&(document.getElementById("itemForm").removeChild(e),removeQtyTextbox())}function removeQtyTextbox(){var e=document.getElementById(qtyInputId);e&&document.getElementById("itemForm").removeChild(e),removeCostTextbox()}function removeCostTextbox(){var e=document.getElementById(costInputId);e&&document.getElementById("itemForm").removeChild(e),removeItemSubmit()}function removeItemSubmit(){var e=document.getElementById(itemSubId);e&&document.getElementById("itemForm").removeChild(e)}function addItem(e){callGetDesignerItems(e)}var designerSelectId="designerId",selectedItemId,designerItems=new Array,itemFormId="itemForm",itemSelectId="itemSelect",colorSelectId="colorSelect",sizeSelectId="sizeSelect",qtyInputId="qtyInput",costInputId="costInput";
//# sourceMappingURL=purchaseOrder.js.map
